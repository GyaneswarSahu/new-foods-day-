<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Settings</title>
    

    <style>
        .container { margin-top: 50px; }
        .dropdown-section { margin-bottom: 20px; }
        .dropdown-content { display: none; padding: 20px; border: 1px solid #ddd; border-radius: 5px; margin-top: 10px; }
        .dropdown-header { cursor: pointer; }
        .dropdown-header:hover { background-color: #f8f9fa; }
        .input-group { margin-bottom: 10px; }
        .dropdown-toggle::after { content: ' \25BC'; float: right; }
        .dropdown-toggle.collapsed::after { content: ' \25B6'; }
        .form-icon { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); }
        .image-preview { margin-top: 10px; }
        .image-preview img { max-width: 200px; max-height: 200px; }
    </style>

<script src="https://kit.fontawesome.com/1ba2b0d308.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="../css/style2.css">
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
 <style>
     .container { margin-top: 50px; border: 2px solid green;
     border-radius: 8px ; }
     .form-group img { max-width: 600px; margin-top: 10px;
     margin-left: 300px; }
     .banner-preview { 
         /* width: 100%;  */
         height: 200px;
          object-fit: cover;
     border: 2px solid red; }
     #restaurantLogo{
         height: 100px;
         width: 100px;
         border-radius: 50%;
         border: 4px solid rgb(7, 6, 6);
         margin-left: 300px;
     }
     .text-bold{
         font-weight: bolder;
     }
     .btnn{
        border-radius: 10px;

     }
     .stdropdown{
        border: 2px solid red;
        border-radius: 5px;

     }
     .nddropdown{
        border: 2px solid orange;
        border-radius: 5px;

     }

     .rddropdown{
        border: 2px solid rgb(255, 255, 255);
        border-radius: 5px;
     }
     #imagePreview{
        margin-left:400px;
     }
     .adminstratior{
        margin-left:420px;
     }
     .companyname{
        margin-left: 450px;
     }
     .updatebutton{
        
 margin-left: 15px;

height:50px;

  }
  .browsebutton{
    width: 120px;
    height: 50px;
    background: rgb(39, 209, 39);
   
    color: white;
  }
  /* .container1{
 
  } */
  .headings{
    margin-left: 210px;
    font-size: x-large;
font-weight: bold;
  }
  .sideheading{
    font-size: small;
    font-weight: bold;
  }
 .headingr{
    float: right;
    font-size: small;
    font-weight: 400;
    margin-right: 250px; 
 }
 

   
 </style>

</head>
<body>

    <div class="admin-header d-flex justify-content-between align-items-center p-2 panelcolora text-white">
        <div class="d-flex align-items-center  leftpanel">
            <img src="../images/restaurant_logo.png" alt="Logo" class="logo mr-2">
            <a href="index.html" class="text-white">Home</a>
            
            <!-- Dropdown Menu -->
            <div class="dropdown ml-3 panelcolora">
                <button class="btn btn-secondary dropdown-toggle  "  style="background: rgb(9, 81, 183);" type="button" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
                    Mastrey Entry
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="mainitem.html">Main Items</a>
                    <a class="dropdown-item" href="subitem.html">Sub Items</a>
                    <a class="dropdown-item" href="#">Action 3</a>
                </div>
            </div>
        </div>


      
        
      
        <div class="d-flex align-items-center">
            <div class="order-icon ml-3 position-relative cart">
                
                <a href="../order.html"><i class="fa-solid fa-gavel fa-rotate-270" style="color: #f7f9fd;"></i><span class="order-count badge badge-danger position-absolute">
                    5</span></a>
            </div>

            <div class="adminicon"> <i class="fa-solid fa-circle-user fa-lg" style="color: #b9bcc1;"></i><span>Hi,Admin</span>&nbsp;
            </div>
          <div>  <a href="admin_settings.html"><i class="fa-solid fa-gears fa-sm" style="color: #ffffff;"></i>
          </div> </a>  
        

       
        </div>
    </div>


<br><br>

<div class=" container1  "> <div class="headings">Admin Settings <span class="sideheading">Managed Admin Controls</span>
<div  class="headingr"> <i class="fa-solid fa-gauge-high " style="color: #3b3d3f;"></i> Home > Settings</div></div>


    <div class="container">
       
 
        <br>
                <div class="dropdown-section stdropdown">
                    <div class="dropdown-header dropdown-toggle text-white" style="background: rgb(218, 29, 29);"  data-toggle="collapse" data-target="#passwordChangeSection" aria-expanded="false">
                        Change Password
                    </div>
                    <div id="passwordChangeSection" class="dropdown-content collapse">
                        <form id="passwordChangeForm">
                            <div class="input-group">
                                
                                <input type="password" class="form-control" id="oldPassword"placeholder="Enter Old Password" required>
                                <i class="form-icon"></i>
                            </div>
                            <div class="input-group">
                                
                                <input type="password" class="form-control" id="newPassword" placeholder="Enter New Password" required>
                                <i class="form-icon"></i>
                            </div>
                            <div class="input-group">
                               
                                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Password" required>
                                <i class="form-icon"></i>
                            </div>
                            <button type="submit" class=" btn-success btnn" >Update</button>
                            <button type="reset" class=" btn-danger btnn" style="background: red;">Cancel</button>
        
                        </form>
                    </div>
                </div>
        
                <div class="dropdown-section nddropdown">
                    <div class="dropdown-header dropdown-toggle text-white" style="background: rgb(209, 141, 14);" data-toggle="collapse" data-target="#profilePhotoSection" aria-expanded="false">
                        Change Profile Photo
                    </div>
                    <div id="profilePhotoSection" class="dropdown-content collapse">
        
                        <div class="image-preview" id="imagePreview"></div>
                        <div class="adminstratior "><h4>Administratior</h4>
                        </div>
                        <div class="companyname "> <h6>Foods Day</h6></div>
        
                        <form id="profilePhotoForm">
                            <div class="input-group">
                              
                                <input type="file" class="text-white " id="profilePhoto" accept="image/*" required>
                              
                            </div>
                            <div>   
                                <span for="profilePhoto" class="input-group-text browsebutton text-bold">Browse Image  <button type="submit" class="btn btn-primary updatebutton text-bold">Update Photo</button>
                                </span>
                          
                        </div>
                         
                            
                        </form>
                    </div>
                </div>
        
                <div class="dropdown-section ">
                    <div class="dropdown-header dropdown-toggle text-white text-bolder" style="background-color: rgb(125, 192, 26);" data-toggle="collapse" data-target="#addPageSection" aria-expanded="false">
                       Restaurant Profile Edit
                    </div>
                    <div id="addPageSection" class="dropdown-content collapse">
        
                        <div class="container col-md-10">
                            <h5 style="background: rgb(74, 196, 74);" class="text-white">Edit Restaurant Profile</h5>
                            <form id="editRestaurantForm">
                    
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="restaurantName"><i class="fa-solid fa-utensils fa-sm" style="color: #000000;"></i>  Restaurant Name</label>
                                        <input type="text" class="form-control" id="restaurantName" required>
                                    </div>
                                    <div class="form-group col-md-11 text-bold ">
                                        <label for="address"> <i class="fa-solid fa-location-dot fa-sm" style="color: #000000;"></i> Address</label>
                                        <input type="text" class="form-control" id="address" required>
                                    </div>
                               
                           
                                    <div class="form-group col-md-11 text-bold ">
                                        <label for="email"><i class="fa-solid fa-envelope fa-sm" style="color: #000000;"></i> Email</label>
                                        <input type="email" class="form-control" id="email" required>
                                    </div>
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="mobileNumber"> <i class="fa-solid fa-mobile-screen-button fa-sm" style="color: #000000;"></i> Mobile Number</label>
                                        <input type="tel" class="form-control" id="mobileNumber" required>
                                    </div>
                           
                              
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="landlineNumber"> <i class="fa-solid fa-tty fa-sm" style="color: #000000;"></i> Landline Number</label>
                                        <input type="tel" class="form-control" id="landlineNumber">
                                    </div>
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="website"> <i class="fa-solid fa-earth-americas fa-sm" style="color: #000000;"></i> Website</label>
                                        <input type="url" class="form-control" id="website">
                                    </div>
                              
                              
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="restaurantType"><i class="fa-solid fa-layer-group" style="color: #000000;"></i> Restaurant Type</label>
                                        <input type="text" class="form-control" id="restaurantType" required>
                                    </div>
                                    <div class="form-group col-md-11 text-bold">
                                        <label for="serviceType"> <i class="fa-solid fa-cart-shopping fa-sm" style="color: #000000;"></i> Service Type</label>
                                        <input type="text" class="form-control" id="serviceType" required>
                                    </div>
                         
                     
                                    <div class="form-group col-md-4 text-bold">
                                        <label for="restaurantLogo"><i class="fa-regular fa-image fa-sm" style="color: #000000;"></i> Restaurant Logo</label>
                                        <img id="restaurantLogo" src="../images/restaurant2.png" alt="Restaurant Logo">
                                    </div>
                                    <div class="form-group col-md-4 text-bold">
                                        <label for="bannerImage">Banner Image</label>
                                        <input type="file" class="form-control-file" id="bannerImage">
                                        <img id="currentBannerImage" class="banner-preview" src="" alt="Current Banner Image">
                                    </div>
                                    
                           
                                <button type="submit" class="btn btn-success">Save Changes</button>
                            </form>
                        </div>
                        
                        
                    </div>
                </div>
            </div></div>

  



    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="../js/adminindex.js"></script>
    <script src="../js/adminnavbar.js"></script>

   
    <script>
        $(document).ready(function () {
            $('.dropdown-header').on('click', function () {
                $(this).toggleClass('collapsed');
                $(this).next('.dropdown-content').slideToggle();
            });

            $('#passwordChangeForm').on('submit', function (e) {
                e.preventDefault();
                alert('Password updated successfully.');
                this.reset();
            });

            $('#profilePhotoForm').on('submit', function (e) {
                e.preventDefault();
                alert('Profile photo updated successfully.');
                this.reset();
                $('#imagePreview').html('');
            });

            $('#profilePhoto').on('change', function () {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        $('#imagePreview').html('<img src="' + e.target.result + '" alt="Profile Photo">');
                    }
                    reader.readAsDataURL(file);
                }
            });

            $('#addPageForm').on('submit', function (e) {
                e.preventDefault();
                const pageUrl = $('#pageUrl').val();
                $('#addedPageContent').html('<iframe src="' + pageUrl + '" width="100%" height="400px"></iframe>');
                alert('Page added successfully.');
                this.reset();
            });
        });
    </script>


<script>
    let restaurantProfile = JSON.parse(localStorage.getItem('restaurantProfile')) || {};

    document.addEventListener('DOMContentLoaded', function() {
        if (Object.keys(restaurantProfile).length) {
            document.getElementById('restaurantName').value = restaurantProfile.restaurantName || '';
            document.getElementById('address').value = restaurantProfile.address || '';
            document.getElementById('email').value = restaurantProfile.email || '';
            document.getElementById('mobileNumber').value = restaurantProfile.mobileNumber || '';
            document.getElementById('landlineNumber').value = restaurantProfile.landlineNumber || '';
            document.getElementById('website').value = restaurantProfile.website || '';
            document.getElementById('restaurantType').value = restaurantProfile.restaurantType || '';
            document.getElementById('serviceType').value = restaurantProfile.serviceType || '';
            if (restaurantProfile.restaurantImage) {
                document.getElementById('currentRestaurantImage').src = restaurantProfile.restaurantImage;
            }
            if (restaurantProfile.bannerImage) {
                document.getElementById('currentBannerImage').src = restaurantProfile.bannerImage;
            }
        }
    });

    document.getElementById('bannerImage').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('currentBannerImage').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });

    document.getElementById('editRestaurantForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const restaurantName = document.getElementById('restaurantName').value;
        const address = document.getElementById('address').value;
        const email = document.getElementById('email').value;
        const mobileNumber = document.getElementById('mobileNumber').value;
        const landlineNumber = document.getElementById('landlineNumber').value;
        const website = document.getElementById('website').value;
        const restaurantType = document.getElementById('restaurantType').value;
        const serviceType = document.getElementById('serviceType').value;

        if (restaurantName && address && email && mobileNumber && restaurantType && serviceType) {
            restaurantProfile.restaurantName = restaurantName;
            restaurantProfile.address = address;
            restaurantProfile.email = email;
            restaurantProfile.mobileNumber = mobileNumber;
            restaurantProfile.landlineNumber = landlineNumber;
            restaurantProfile.website = website;
            restaurantProfile.restaurantType = restaurantType;
            restaurantProfile.serviceType = serviceType;

            const restaurantImageInput = document.getElementById('restaurantImage').files[0];
            const bannerImageInput = document.getElementById('bannerImage').files[0];

            if (restaurantImageInput) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    restaurantProfile.restaurantImage = e.target.result;
                    saveProfile();
                };
                reader.readAsDataURL(restaurantImageInput);
            }

            if (bannerImageInput) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    restaurantProfile.bannerImage = e.target.result;
                    saveProfile();
                };
                reader.readAsDataURL(bannerImageInput);
            }

            if (!restaurantImageInput && !bannerImageInput) {
                saveProfile();
            }
        } else {
            alert('Please fill out all required fields.');
        }
    });

    function saveProfile() {
        localStorage.setItem('restaurantProfile', JSON.stringify(restaurantProfile));
        window.location.reload();
    }
</script>


</body>



</html>
